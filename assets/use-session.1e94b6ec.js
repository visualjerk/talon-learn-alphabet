import{i as N,u as v,x as H,l as E,y as G,z as U,A as T,j as V}from"./index.2c13fe0b.js";var $;const m=typeof window!="undefined",K=e=>typeof e=="string",_=()=>{};m&&(($=window==null?void 0:window.navigator)==null?void 0:$.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function q(e,t){function r(...n){e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})}return r}const x=e=>e();function B(e=x){const t=N(!0);function r(){t.value=!1}function n(){t.value=!0}return{isActive:t,pause:r,resume:n,eventFilter:(...o)=>{t.value&&e(...o)}}}function b(e){return G()?(U(e),!0):!1}function we(e,t=1e3,r={}){const{immediate:n=!0,immediateCallback:i=!1}=r;let o=null;const u=N(!1);function c(){o&&(clearInterval(o),o=null)}function f(){u.value=!1,c()}function a(){v(t)<=0||(u.value=!0,i&&e(),c(),o=setInterval(e,v(t)))}if(n&&m&&a(),H(t)){const l=E(t,()=>{u.value&&m&&a()});b(l)}return b(f),{isActive:u,pause:f,resume:a}}var A=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,Y=(e,t)=>{var r={};for(var n in e)Q.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&A)for(var n of A(e))t.indexOf(n)<0&&X.call(e,n)&&(r[n]=e[n]);return r};function Z(e,t,r={}){const n=r,{eventFilter:i=x}=n,o=Y(n,["eventFilter"]);return E(e,q(i,t),o)}var k=Object.defineProperty,ee=Object.defineProperties,te=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,W=(e,t,r)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,re=(e,t)=>{for(var r in t||(t={}))D.call(t,r)&&W(e,r,t[r]);if(g)for(var r of g(t))I.call(t,r)&&W(e,r,t[r]);return e},ne=(e,t)=>ee(e,te(t)),ae=(e,t)=>{var r={};for(var n in e)D.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&g)for(var n of g(e))t.indexOf(n)<0&&I.call(e,n)&&(r[n]=e[n]);return r};function oe(e,t,r={}){const n=r,{eventFilter:i}=n,o=ae(n,["eventFilter"]),{eventFilter:u,pause:c,resume:f,isActive:a}=B(i);return{stop:Z(e,t,ne(re({},o),{eventFilter:u})),pause:c,resume:f,isActive:a}}function ie(e){var t;const r=v(e);return(t=r==null?void 0:r.$el)!=null?t:r}const S=m?window:void 0;function se(...e){let t,r,n,i;if(K(e[0])?([r,n,i]=e,t=S):[t,r,n,i]=e,!t)return _;let o=_;const u=E(()=>ie(t),f=>{o(),f&&(f.addEventListener(r,n,i),o=()=>{f.removeEventListener(r,n,i),o=_})},{immediate:!0,flush:"post"}),c=()=>{u(),o()};return b(c),c}const P=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},j="__vueuse_ssr_handlers__";P[j]=P[j]||{};const le=P[j];function ue(e,t){return le[e]||t}function fe(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}const ce={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function pe(e,t,r,n={}){var i;const{flush:o="pre",deep:u=!0,listenToStorageChanges:c=!0,writeDefaults:f=!0,shallow:a,window:l=S,eventFilter:O,onError:w=s=>{console.error(s)}}=n,d=(a?T:N)(t);if(!r)try{r=ue("getDefaultStorage",()=>{var s;return(s=S)==null?void 0:s.localStorage})()}catch(s){w(s)}if(!r)return d;const h=v(t),J=fe(h),y=(i=n.serializer)!=null?i:ce[J],{pause:L,resume:z}=oe(d,()=>M(d.value),{flush:o,deep:u,eventFilter:O});return l&&c&&se(l,"storage",F),F(),d;function M(s){try{s==null?r.removeItem(e):r.setItem(e,y.write(s))}catch(p){w(p)}}function C(s){if(!(s&&s.key!==e)){L();try{const p=s?s.newValue:r.getItem(e);return p==null?(f&&h!==null&&r.setItem(e,y.write(h)),h):typeof p!="string"?p:y.read(p)}catch(p){w(p)}finally{z()}}}function F(s){s&&s.key!==e||(d.value=C(s))}}var R;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(R||(R={}));function de(e){return Math.max(10+e.errors-e.shown,1)}function he(e,t){const r=Object.keys(t).reduce((a,l)=>(a[l]={shown:0,errors:0},a),{}),n=pe(e,r);Object.entries(r).forEach(([a,l])=>{n.value.hasOwnProperty(a)||(n.value[a]=l)});function i(){const a=[];return Object.entries(n.value).forEach(([O,w])=>{const d=de(w);a.push(...Array(d).fill(O))}),a[Math.floor(Math.random()*a.length)]}const o=T(i());function u(){let a=i();for(;a===v(o);)a=i();o.value=a,n.value[a].shown++}function c(){n.value[v(o)].errors++}const f=V(()=>Object.entries(n.value).map(([a,l])=>({key:a,accuracy:l.shown===0?0:(l.shown-l.errors)/l.shown,...l})));return{current:o,next:u,addError:c,results:f}}export{he as a,we as u};
